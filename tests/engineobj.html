<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=900">
	<title>engine objects</title>
	<link rel="stylesheet" type="text/css" href="testindex.css">
	<script src="testglobals.js"></script>
	<script src="testgeneric.js"></script>
	<!-- custom -->
	<style>
		table {width: 880px;}
		#tb3 td:first-child { text-align: left; vertical-align: top;}
	</style>
</head>
<body>

	<table>
	<tr><td><h2>TorZillaPrint</h2></td></tr>
	<tr><td class="blurb"><a class="return" href="../index.html">return to TZP index</a></td></tr>
	</table>

	<table id="tb3">
		<col width="50%"><col width="50%">
		<thead><tr><th colspan="2">
			<div class="nav-title">engine objects
				<div class="nav-up"><span class="c perf" id="perf"></span></div>
				<div class="nav-down"><span class="perf" style="cursor: pointer;" onClick="rerun()">re-run</span></span></div>
			</div>
		</th></tr></thead>
		<tr><td colspan="2"><span class="no_color c mono spaces" id="results"></span></td></tr>
	</table>
	<br>

<script>
'use strict';

s3 = s3.trim()

let oTypes = {},
	aList = [],
	tstart

function logList() {
	console.log(aList.join(", "))
}

function rec(type, name) {
	aList.push(name)
	oTypes[type].push(name)
}

function output() {
	aList.sort()
	dom.perf.innerHTML = Math.round((performance.now() - tstart)) +" ms | "
		+ "<span style='cursor: pointer;' onClick='logList()'>" + aList.length +" items" +"</span>"
	let display = []
	for (const k of Object.keys(oTypes).sort()) {
		let res = oTypes[k]
		res.sort()
		if (res.length) {
			let type = k.toUpperCase().padEnd(9)
			let hash = mini_sha1(res.join())
			display.push(s3 + type + sc +": "+ hash + s3 +" ["+ res.length +"]"+ sc +"<br>")
			display.push("'"+ res.join("', '") + "'<br>")
		}
		dom.results.innerHTML = display.join("<br>")
	}
}

function reset() {
	oTypes = {
		"undefined" : [],
		"boolean": [],
		"number": [],
		"bigint": [],
		"string": [],
		"symbol": [],
		"function": [],
		"object": [],
	}
	aList = []
	dom.results.innerHTML = ""
}

function rerun() {
	reset()
	// delay so user sees changes
	setTimeout(function() {
		run()
	}, 170)
}

function run() {
	try {
		tstart = performance.now()
// gecko functions have line endings: e.g.
// gecko: value": "function atob() {\n    [native code]\n}"
// blink: value": "function atob() { [native code] }",

// blink not gecko
rec(typeof PERSISTENT, "PERSISTENT")
rec(typeof TEMPORARY, "TEMPORARY")
rec(typeof defaultStatus, "defaultStatus")
rec(typeof defaultstatus, "defaultstatus")
rec(typeof getScreenDetails, "getScreenDetails")
rec(typeof launchQueue, "launchQueue")
rec(typeof onbeforexrselect, "onbeforexrselect")
rec(typeof oncancel, "oncancel")
rec(typeof oncontextlost, "oncontextlost")
rec(typeof oncontextrestored, "oncontextrestored")
rec(typeof ondeviceorientationabsolute, "ondeviceorientationabsolute")
rec(typeof onmousewheel, "onmousewheel")
rec(typeof onpointerrawupdate, "onpointerrawupdate")
rec(typeof onsearch, "onsearch")
rec(typeof openDatabase, "openDatabase")
rec(typeof originAgentCluster, "originAgentCluster")
rec(typeof queryLocalFonts, "queryLocalFonts")
rec(typeof showDirectoryPicker, "showDirectoryPicker")
rec(typeof showOpenFilePicker, "showOpenFilePicker")
rec(typeof showSaveFilePicker, "showSaveFilePicker")
rec(typeof webkitCancelAnimationFrame, "webkitCancelAnimationFrame")
rec(typeof webkitRequestAnimationFrame, "webkitRequestAnimationFrame")
rec(typeof webkitRequestFileSystem, "webkitRequestFileSystem")
rec(typeof webkitResolveLocalFileSystemURL, "webkitResolveLocalFileSystemURL")

//
rec(typeof addEventListener, "addEventListener")
rec(typeof alert, "alert")
rec(typeof atob, "atob")

rec(typeof blur, "blur")
rec(typeof btoa, "btoa")

rec(typeof cancelAnimationFrame, "cancelAnimationFrame")
rec(typeof cancelIdleCallback, "cancelIdleCallback")
rec(typeof captureEvents, "captureEvents")
rec(typeof clearInterval, "clearInterval")
rec(typeof clearTimeout, "clearTimeout")
rec(typeof close, "close")
rec(typeof closed, "closed")
rec(typeof confirm, "confirm")
rec(typeof createImageBitmap, "createImageBitmap")
rec(typeof crossOriginIsolated, "crossOriginIsolated")

rec(typeof devicePixelRatio, "devicePixelRatio")
rec(typeof dispatchEvent, "dispatchEvent")
rec(typeof document, "document")
rec(typeof dump, "dump")

rec(typeof event, "event")

rec(typeof fetch, "fetch")
rec(typeof find, "find")
rec(typeof focus, "focus")
rec(typeof frameElement, "frameElement")
rec(typeof frames, "frames")
rec(typeof fullScreen, "fullScreen")

rec(typeof getComputedStyle, "getComputedStyle")
rec(typeof getDefaultComputedStyle, "getDefaultComputedStyle")
rec(typeof getSelection, "getSelection")

rec(typeof innerHeight, "innerHeight")
rec(typeof innerWidth, "innerWidth")
rec(typeof isSecureContext, "isSecureContext")

rec(typeof keys, "keys")
rec(typeof Keyboard, "Keyboard")
rec(typeof KeyboardEvent, "KeyboardEvent")
rec(typeof KeyboardLayoutMap, "KeyboardLayoutMap")
rec(typeof KeyEvent, "KeyEvent")
rec(typeof KeyframeEffect, "KeyframeEffect")

rec(typeof length, "length")

rec(typeof matchMedia, "matchMedia")
rec(typeof moveBy, "moveBy")
rec(typeof moveTo, "moveTo")
rec(typeof mozInnerScreenX, "mozInnerScreenX")
rec(typeof mozInnerScreenY, "mozInnerScreenY")

rec(typeof name, "name")

rec(typeof onabort, "onabort")
rec(typeof onabsolutedeviceorientation, "onabsolutedeviceorientation")
rec(typeof onafterprint, "onafterprint")
rec(typeof onanimationcancel, "onanimationcancel")
rec(typeof onanimationend, "onanimationend")
rec(typeof onanimationiteration, "onanimationiteration")
rec(typeof onanimationstart, "onanimationstart")
rec(typeof onauxclick, "onauxclick")
rec(typeof onbeforeinput, "onbeforeinput")
rec(typeof onbeforeprint, "onbeforeprint")
rec(typeof onbeforeunload, "onbeforeunload")
rec(typeof onblur, "onblur")
rec(typeof oncanplay, "oncanplay")
rec(typeof oncanplaythrough, "oncanplaythrough")
rec(typeof onchange, "onchange")
rec(typeof onclick, "onclick")
rec(typeof onclose, "onclose")
rec(typeof oncontextmenu, "oncontextmenu")
rec(typeof oncuechange, "oncuechange")
rec(typeof ondblclick, "ondblclick")
rec(typeof ondevicemotion, "ondevicemotion")
rec(typeof ondeviceorientation, "ondeviceorientation")
rec(typeof ondrag, "ondrag")
rec(typeof ondragend, "ondragend")
rec(typeof ondragenter, "ondragenter")
rec(typeof ondragleave, "ondragleave")
rec(typeof ondragover, "ondragover")
rec(typeof ondragstart, "ondragstart")
rec(typeof ondrop, "ondrop")
rec(typeof ondurationchange, "ondurationchange")
rec(typeof onemptied, "onemptied")
rec(typeof onended, "onended")
rec(typeof onerror, "onerror")
rec(typeof onfocus, "onfocus")
rec(typeof onformdata, "onformdata")
rec(typeof ongamepadconnected, "ongamepadconnected")
rec(typeof ongamepaddisconnected, "ongamepaddisconnected")
rec(typeof ongotpointercapture, "ongotpointercapture")
rec(typeof onhashchange, "onhashchange")
rec(typeof oninput, "oninput")
rec(typeof oninvalid, "oninvalid")
rec(typeof onkeydown, "onkeydown")
rec(typeof onkeypress, "onkeypress")
rec(typeof onkeyup, "onkeyup")
rec(typeof onlanguagechange, "onlanguagechange")
rec(typeof onload, "onload")
rec(typeof onloadeddata, "onloadeddata")
rec(typeof onloadedmetadata, "onloadedmetadata")
rec(typeof onloadend, "onloadend")
rec(typeof onloadstart, "onloadstart")
rec(typeof onlostpointercapture, "onlostpointercapture")
rec(typeof onmessage, "onmessage")
rec(typeof onmessageerror, "onmessageerror")
rec(typeof onmousedown, "onmousedown")
rec(typeof onmouseenter, "onmouseenter")
rec(typeof onmouseleave, "onmouseleave")
rec(typeof onmousemove, "onmousemove")
rec(typeof onmouseout, "onmouseout")
rec(typeof onmouseover, "onmouseover")
rec(typeof onmouseup, "onmouseup")
rec(typeof onmozfullscreenchange, "onmozfullscreenchange")
rec(typeof onmozfullscreenerror, "onmozfullscreenerror")
rec(typeof onoffline, "onoffline")
rec(typeof ononline, "ononline")
rec(typeof onpagehide, "onpagehide")
rec(typeof onpageshow, "onpageshow")
rec(typeof onpause, "onpause")
rec(typeof onplay, "onplay")
rec(typeof onplaying, "onplaying")
rec(typeof onpointercancel, "onpointercancel")
rec(typeof onpointerdown, "onpointerdown")
rec(typeof onpointerenter, "onpointerenter")
rec(typeof onpointerleave, "onpointerleave")
rec(typeof onpointermove, "onpointermove")
rec(typeof onpointerout, "onpointerout")
rec(typeof onpointerover, "onpointerover")
rec(typeof onpointerup, "onpointerup")
rec(typeof onpopstate, "onpopstate")
rec(typeof onprogress, "onprogress")
rec(typeof onratechange, "onratechange")
rec(typeof onrejectionhandled, "onrejectionhandled")
rec(typeof onreset, "onreset")
rec(typeof onresize, "onresize")
rec(typeof onscroll, "onscroll")
rec(typeof onsecuritypolicyviolation, "onsecuritypolicyviolation")
rec(typeof onseeked, "onseeked")
rec(typeof onseeking, "onseeking")
rec(typeof onselect, "onselect")
rec(typeof onselectionchange, "onselectionchange")
rec(typeof onselectstart, "onselectstart")
rec(typeof onslotchange, "onslotchange")
rec(typeof onstalled, "onstalled")
rec(typeof onstorage, "onstorage")
rec(typeof onsubmit, "onsubmit")
rec(typeof onsuspend, "onsuspend")
rec(typeof ontimeupdate, "ontimeupdate")
rec(typeof ontoggle, "ontoggle")
rec(typeof ontransitioncancel, "ontransitioncancel")
rec(typeof ontransitionend, "ontransitionend")
rec(typeof ontransitionrun, "ontransitionrun")
rec(typeof ontransitionstart, "ontransitionstart")
rec(typeof onunhandledrejection, "onunhandledrejection")
rec(typeof onunload, "onunload")
rec(typeof onvolumechange, "onvolumechange")
rec(typeof onvrdisplayactivate, "onvrdisplayactivate")
rec(typeof onvrdisplayconnect, "onvrdisplayconnect")
rec(typeof onvrdisplaydeactivate, "onvrdisplaydeactivate")
rec(typeof onvrdisplaydisconnect, "onvrdisplaydisconnect")
rec(typeof onvrdisplaypresentchange, "onvrdisplaypresentchange")
rec(typeof onwaiting, "onwaiting")
rec(typeof onwebkitanimationend, "onwebkitanimationend")
rec(typeof onwebkitanimationiteration, "onwebkitanimationiteration")
rec(typeof onwebkitanimationstart, "onwebkitanimationstart")
rec(typeof onwebkittransitionend, "onwebkittransitionend")
rec(typeof onwheel, "onwheel")
rec(typeof open, "open")
rec(typeof opener, "opener")
rec(typeof origin, "origin")
rec(typeof outerHeight, "outerHeight")
rec(typeof outerWidth, "outerWidth")

rec(typeof pageXOffset, "pageXOffset")
rec(typeof pageYOffset, "pageYOffset")
rec(typeof parent, "parent")
rec(typeof postMessage, "postMessage")
rec(typeof print, "print")
rec(typeof prompt, "prompt")

rec(typeof queueMicrotask, "queueMicrotask")

rec(typeof releaseEvents, "releaseEvents")
rec(typeof removeEventListener, "removeEventListener")
rec(typeof reportError, "reportError")
rec(typeof requestAnimationFrame, "requestAnimationFrame")
rec(typeof requestIdleCallback, "requestIdleCallback")
rec(typeof resizeBy, "resizeBy")
rec(typeof resizeTo, "resizeTo")

rec(typeof screenLeft, "screenLeft")
rec(typeof screenTop, "screenTop")
rec(typeof screenX, "screenX")
rec(typeof screenY, "screenY")
rec(typeof scroll, "scroll")
rec(typeof scrollBy, "scrollBy")
rec(typeof scrollByLines, "scrollByLines")
rec(typeof scrollByPages, "scrollByPages")
rec(typeof scrollMaxX, "scrollMaxX")
rec(typeof scrollMaxY, "scrollMaxY")
rec(typeof scrollTo, "scrollTo")
rec(typeof scrollX, "scrollX")
rec(typeof scrollY, "scrollY")
rec(typeof self, "self")
rec(typeof setInterval, "setInterval")
rec(typeof setResizable, "setResizable")
rec(typeof setTimeout, "setTimeout")
rec(typeof sizeToContent, "sizeToContent")
rec(typeof status, "status")
rec(typeof statusbar, "statusbar")
rec(typeof stop, "stop")

rec(typeof toolbar, "toolbar")
rec(typeof top, "top")

rec(typeof updateCommands, "updateCommands")

rec(typeof window, "window")

//  these all have properties + sometimes nested
rec(typeof caches, "caches")
rec(typeof clientInformation, "clientInformation")
rec(typeof chrome, "chrome")
rec(typeof cookieStore, "cookieStore")
rec(typeof crypto, "crypto")
rec(typeof customElements, "customElements")
rec(typeof external, "external")
rec(typeof history, "history")
rec(typeof indexedDB, "indexedDB")
rec(typeof localStorage, "localStorage")
rec(typeof location, "location")
rec(typeof locationbar, "locationbar")
rec(typeof menubar, "menubar")
rec(typeof navigation, "navigation")
rec(typeof navigator, "navigator")
rec(typeof opr, "opr")
rec(typeof performance, "performance")
rec(typeof personalbar, "personalbar")
rec(typeof screen, "screen")
rec(typeof scrollbars, "scrollbars")
rec(typeof sessionStorage, "sessionStorage")
rec(typeof speechSynthesis, "speechSynthesis")
rec(typeof styleMedia, "styleMedia")
rec(typeof trustedTypes, "trustedTypes")
rec(typeof u2f, "u2f")
rec(typeof visualViewport, "visualViewport")
rec(typeof webkitStorageInfo, "webkitStorageInfo")
//InstallTrigger : being deprecated

		output()
	} catch(e) {
		console.error(e.name, e.message)
	}
}

reset()
run()

function create() {
	let list = ["caches","clientInformation"]
	let res = []
	list.forEach(function(item) {
		res.push("rec(typeof "+ item +", \""+ item +"\")")
	})
	console.log(res.join("\n"))
}
//create()

</script>
</body>
</html>
